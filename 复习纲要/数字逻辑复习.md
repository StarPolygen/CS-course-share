# 数字逻辑复习

___

化简状态图

触发器：激励表 特征表  功能表    电路：状态表

已知现态次态求输入（设计输入）——激励表得值  +  卡诺图得输入方程

带无用状态的计数器——仍需学习，看看习题







verilog语法：

1.基础描述单元 module

2.源文件有输入输出端口  

   测试文件testbench没有输入输出端口，不能综合的语法只能放在testbench中（如UDP）

3.模块设计方式： 门级（逻辑操作符 原语门） 

​				行为级描述（从电路行为描述 总是把代码写在always下 也可以用来写仿真文件 仿真文件没有数据流的写法） 

​				数据流（持续赋值 assign 注意不要混淆逻辑操作符&&和按位操作符&） 

​				结构化（实例化 module）

4.分支语句    if-else   写在前面优先级高   if（A）A非零即真 

​			case-default     没有优先级区别 注意case（0 1 x z一一对应）casez（z会被解释为任意态）casex（x、z都被解释为任意态）

​			注意if一定要有else case要有default否则会生成锁存器，成为时序电路

5.循环语句  一般只在测试语句中使用

​			while for repeat forever always

6.赋值语句 持续化赋值  被赋值必须为wire

​		    非持续化{阻塞赋值和非阻塞赋值，在initial或always块下} 被赋值者必须为reg

​		    阻塞赋值常用于组合逻辑，非阻塞复制常用于时序逻辑

​		    FSM注意二段三段式，分隔开时序和组合逻辑部分

7.常数表示 

​		位宽只针对二进制，默认为1位【0:0】

​		基底大小写相同，默认十进制

​		数值默认十进制

​		负号位置只能在位宽前

​		下划线只能写在数值部分

​		用法：常用于parameter

8.变量

​		wire 不能存储数据                 reg 可以存储数据，所以放在过程语句块（敏感列表，寄存原值）  

​		不声明默认wire

​		存在【4:1】【0:3】

##### 	reg	![1545118542936](C:\Users\lenovo\AppData\Local\Temp\1545118542936.png)

9.Memory 数组  ： reg [n-1:0] memory name [m-1:0];   索引 用法同C++

​			     对数组内元素赋值： 索引赋值  可使用链接操作符

10.操作符

​		优先级：非>与>或>条件

​		拼接操作符 重复操作符

11.begin end、fork join

12.小练习： ![1545119140075](C:\Users\lenovo\AppData\Local\Temp\1545119140075.png)前者错后者对







注意：1.两个always不能对同一个变量操作

2.输入不能为reg，必须为wire，输出均可

4.wire<=assign  wire=>assign/初始定义常量变量          reg<=>initial/always/初始定义时常量

   元件实例化=>wire

5. = 阻塞赋值右侧不能有延迟，即使是0也不行

6. 如果在一个过程块中阻塞赋值的变量RHS正好是另一个always块中阻塞赋值的LHS变量，这两个过程又通过同一个时钟沿触发，阻塞赋值会出现竞争，执行的顺序是无法确定的

7. 为了防止程序自动生成锁存器，一般都要设置default项

8. initial 和 always 的次数是不受限制的，都在程序开始同时开始。initial 只执行一次，而 always语句满足条件不断重复

9. 不能综合： task UDP

10. 过程块（如initial块和always块）、连续赋值语句（如assign语句）和实例引用是并行的。

    三者地位等同，顺序无关，不可互相调用

    if else 条件语句必须在过程块(initial always)中使用。

    <=只能用于reg，只能用于initial块和always块中







**在使用阻塞赋值和非阻塞赋值时的八大原则:**

 

1)时序电路建模时，采用非阻塞赋值；

 

2)锁存器电路建模时，采用非阻塞赋值；

 

3)用always块建立组合逻辑模型时，采用阻塞赋值；

 

4)用always块建立时序和组合逻辑混合电路时，采用非阻塞赋值；

 

5)不要在同一个always块中同时使用非阻塞赋值和阻塞赋值；

 

6)不要在一个以上的always块中为同一个变量赋值；

 

7）用$strobe系统任务来显示用非阻塞赋值的变量值；

 

8）在赋值时，不要用#0延迟；